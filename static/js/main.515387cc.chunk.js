(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{231:function(e,t,a){e.exports=a(449)},308:function(e,t){},445:function(e,t,a){},447:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(61),l=a.n(c),i=a(9),o=a(10),s=a(13),u=a(11),m=a(12),h=a(207),p=a(459),d=a(36),f=0,b="SHOW_ALL",E="SHOW_COMPLETED",v="SHOW_ACTIVE",g={increment:function(){return{type:"INCREMENT_COUNT"}},decrement:function(){return{type:"DECREMENT_COUNT"}}},w=function(e){var t=e.active,a=e.children,n=e.onClick;return r.a.createElement("button",{onClick:n,disabled:t,style:{marginLeft:"4px"}},a)},y=Object(d.b)(function(e,t){return{active:t.filter===e.visibilityFilter}},function(e,t){return{onClick:function(){return e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}})(w),k=function(){return r.a.createElement("div",null,r.a.createElement("span",null,"Show: "),r.a.createElement(y,{filter:b},"All"),r.a.createElement(y,{filter:v},"Active"),r.a.createElement(y,{filter:E},"Completed"))},O=Object(d.b)()(function(e){var t,a=e.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),t.value.trim()&&(a((n=t.value,{type:"ADD_TODO",id:f++,text:n})),t.value="")}},r.a.createElement("input",{ref:function(e){return t=e}}),r.a.createElement("button",{type:"submit"},"Add Todo")))}),j=function(e){var t=e.onClick,a=e.completed,n=e.text;return r.a.createElement("li",{onClick:t,style:{textDecoration:a?"line-through":"none"}},n)},x=function(e){var t=e.todos,a=e.toggleTodo;return r.a.createElement("ul",null,t.map(function(e){return r.a.createElement(j,Object.assign({key:e.id},e,{onClick:function(){return a(e.id)}}))}))},N=Object(d.b)(function(e){return{todos:function(e,t){switch(t){case b:return e;case E:return e.filter(function(e){return e.completed});case v:return e.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+t)}}(e.todos,e.visibilityFilter)}},function(e){return{toggleTodo:function(t){return e(function(e){return{type:"TOGGLE_TODO",id:e}}(t))}}})(x),C=a(458),T=a(241),A=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.createElement("div",null,n.createElement("h1",null,"Counter"),n.createElement("p",null,"This is a simple example of a React component."),n.createElement("p",null,"Current count: ",n.createElement("strong",null,this.props.count)),n.createElement("button",{onClick:function(){e.props.increment()}},"Increment"))}}]),t}(n.Component),D=Object(d.b)(function(e){return e.counter},g)(A),S={components:r.a.createElement(function(){return r.a.createElement("h3",null,"Requested Param: Components")},null),"props-v-state":r.a.createElement(function(){return r.a.createElement("h3",null,"Requested Param: Props v. State")},null),counter:r.a.createElement(D,null)},I=function(e){var t=e.match;return t&&t.params&&t.params.id?S[t.params.id]:r.a.createElement("h3",null,"Please select a topic.")},M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).menu=Q.find(function(e){return e.href===a.props.match.path}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Topics"),this.menu&&this.menu.children&&r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-pills"},this.menu.children.map(function(t){return r.a.createElement("li",{key:t.id,className:"nav-item"},r.a.createElement(C.a,{className:"nav-link",to:"".concat(e.props.match.url+t.href)},t.label))})),r.a.createElement(T.a,{path:"".concat(this.props.match.path,"/:id?"),component:I})))}}]),t}(r.a.Component),L=a(21),R=a.n(L),_=a(32),U=a(37),F=a(31),P=a(457),W=a(456);function B(){return V.apply(this,arguments)}function V(){return(V=Object(_.a)(R.a.mark(function e(){var t,a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.auth.isAuthenticated();case 2:if((t=e.sent)===this.state.authenticated){e.next=12;break}if(!t||this.state.userinfo){e.next=11;break}return e.next=7,this.props.auth.getUser();case 7:a=e.sent,this.setState({authenticated:t,userinfo:a}),e.next=12;break;case 11:this.setState({authenticated:t});case 12:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Y=Object(F.withAuth)(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={authenticated:null,userinfo:null},a.checkAuthentication=B.bind(Object(U.a)(Object(U.a)(a))),a.login=a.login.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(_.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.checkAuthentication();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(_.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.auth.login("/");case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,null!==this.state.authenticated&&r.a.createElement("div",null,r.a.createElement(P.a,{as:"h1"},"Implicit Flow w/ Okta Hosted Login Page"),this.state.authenticated&&r.a.createElement("div",null,r.a.createElement("p",null,"Welcome back, ",this.state.userinfo.name,"!"),r.a.createElement("p",null,"You have successfully authenticated against your Okta org, and have been redirected back to this application.  You now have an ID token and access token in local storage. Visit the ",r.a.createElement("a",{href:"/profile"},"My Profile")," page to take a look inside the ID token."),r.a.createElement("h3",null,"Next Steps"),r.a.createElement("p",null,"Currently this application is a stand-alone front end application.  At this point you can use the access token to authenticate yourself against resource servers that you control."),r.a.createElement("p",null,"This sample is designed to work with one of our resource server examples.  To see access token authentication in action, please download one of these resource server examples:"),r.a.createElement("ul",null,[{label:"Node/Express Resource Server Example",url:"https://github.com/okta/samples-nodejs-express-4/tree/master/resource-server"},{label:"Java/Spring MVC Resource Server Example",url:"https://github.com/okta/samples-java-spring-mvc/tree/master/resource-server"}].map(function(e){return r.a.createElement("li",{key:e.url},r.a.createElement("a",{href:e.url},e.label))})),r.a.createElement("p",null,"Once you have downloaded and started the example resource server, you can visit the ",r.a.createElement("a",{href:"/messages"},"My Messages")," page to see the authentication process in action.")),!this.state.authenticated&&r.a.createElement("div",null,r.a.createElement("p",null,"If you\u2018re viewing this page then you have successfully started this React application."),r.a.createElement("p",null,r.a.createElement("span",null,"This example shows you how to use the "),r.a.createElement("a",{href:"https://github.com/okta/okta-oidc-js/tree/master/packages/okta-react"},"Okta React Library"),r.a.createElement("span",null," to add the "),r.a.createElement("a",{href:"https://developer.okta.com/authentication-guide/implementing-authentication/implicit"},"Implicit Flow"),r.a.createElement("span",null," to your application.")),r.a.createElement("p",null,"When you click the login button below, you will be redirected to the login page on your Okta org. After you authenticate, you will be returned to this application with an ID token and access token.  These tokens will be stored in local storage and can be retrieved at a later time."),r.a.createElement(W.a,{id:"login-button",primary:!0,onClick:this.login},"Login"))))}}]),t}(n.Component)),z=a(206),G=a(455),H=a(454),q={clientId:"0oahro1krfRAO5zAW0h7",issuer:"https://dev-261211.oktapreview.com/oauth2/default",redirectUri:"http://localhost:3000/implicit/callback",scope:"openid profile email"},J={messagesUrl:"http://localhost:3000/api/messages"},$=Object(F.withAuth)(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={messages:null,failed:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getMessages()}},{key:"getMessages",value:function(){var e=Object(_.a)(R.a.mark(function e(){var t,a,n,r,c;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.messages){e.next=23;break}return e.prev=1,e.next=4,this.props.auth.getAccessToken();case 4:return t=e.sent,e.next=7,fetch(J.messagesUrl,{headers:{Authorization:"Bearer ".concat(t)}});case 7:if(200===(a=e.sent).status){e.next=11;break}return this.setState({failed:!0}),e.abrupt("return");case 11:return n=0,e.next=14,a.json();case 14:r=e.sent,c=r.messages.map(function(e){var t=new Date(e.date),a=t.toLocaleDateString(),r=t.toLocaleTimeString();return n+=1,{date:"".concat(a," ").concat(r),text:e.text,id:"message-".concat(n)}}),this.setState({messages:c,failed:!1}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),this.setState({failed:!0}),console.error(e.t0);case 23:case"end":return e.stop()}},e,this,[[1,19]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P.a,{as:"h1"},r.a.createElement(z.a,{name:"mail outline"})," My Messages"),!0===this.state.failed&&r.a.createElement(G.a,{error:!0,header:"Failed to fetch messages.  Please verify the following:",list:["You've downloaded one of our resource server examples, and it's running on port 8000.","Your resource server example is using the same Okta authorization server (issuer) that you have configured this React application to use."]}),null===this.state.failed&&r.a.createElement("p",null,"Fetching Messages.."),this.state.messages&&r.a.createElement("div",null,r.a.createElement("p",null,"This component makes a GET request to the resource server example, which must be running at ",r.a.createElement("code",null,"localhost:8000/api/messages")),r.a.createElement("p",null,"It attaches your current access token in the ",r.a.createElement("code",null,"Authorization")," header on the request, and the resource server will attempt to authenticate this access token. If the token is valid the server will return a list of messages.  If the token is not valid or the resource server is incorrectly configured, you will see a 401 ",r.a.createElement("code",null,"Unauthorized response"),"."),r.a.createElement("p",null,"This route is protected with the ",r.a.createElement("code",null,"<SecureRoute>")," component, which will ensure that this page cannot be accessed until you have authenticated and have an access token in local storage."),r.a.createElement(H.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Message"))),r.a.createElement("tbody",null,this.state.messages.map(function(e){return r.a.createElement("tr",{id:e.id,key:e.id},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.text))})))))}}]),t}(n.Component)),K=Object(F.withAuth)(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={userinfo:null,ready:!1},a.checkAuthentication=B.bind(Object(U.a)(Object(U.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkAuthentication();case 2:this.applyClaims();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(_.a)(R.a.mark(function e(){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkAuthentication();case 2:this.applyClaims();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"applyClaims",value:function(){var e=Object(_.a)(R.a.mark(function e(){var t;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.userinfo&&!this.state.claims&&(t=Object.entries(this.state.userinfo),this.setState({claims:t,ready:!0}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.ready&&r.a.createElement("p",null,"Fetching user profile.."),this.state.ready&&r.a.createElement("div",null,r.a.createElement(P.a,{as:"h1"},r.a.createElement(z.a,{name:"drivers license outline"})," My User Profile (ID Token Claims) "),r.a.createElement("p",null,"Below is the information from your ID token which was obtained during the \xa0",r.a.createElement("a",{href:"https://developer.okta.com/authentication-guide/implementing-authentication/implicit"},"Implicit Flow")," and is now stored in local storage."),r.a.createElement("p",null,"This route is protected with the ",r.a.createElement("code",null,"<SecureRoute>")," component, which will ensure that this page cannot be accessed until you have authenticated."),r.a.createElement(H.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Claim"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,this.state.claims.map(function(e){var t=e[0],a=e[1],n="claim-".concat(t);return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),r.a.createElement("td",{id:n},a))})))))}}]),t}(n.Component)),Q=[{id:0,href:"/",label:"Home",exact:!0,component:Y,allowAnonymous:!0},{id:1,href:"/about",label:"About",exact:!1,component:function(){return r.a.createElement("h2",null,"About")}},{id:2,href:"/topics",label:"Topics",exact:!1,component:M,children:[{id:0,href:"/components",label:"Components",exact:!0},{id:1,href:"/props-v-state",label:"Props v. State",exact:!0},{id:2,href:"/counter",label:"Counter",exact:!0}]},{id:3,href:"/todolist",label:"Todo List",exact:!1,component:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(N,null),r.a.createElement(k,null))}},{id:4,href:"/implicit/callback",label:"Implicit Callback",exact:!1,component:F.ImplicitCallback,allowAnonymous:!0,hide:!0},{id:5,href:"/messages",label:"Messages",exact:!1,component:$},{id:6,href:"/profile",label:"Profile",exact:!1,component:K}],X=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark static-top"},r.a.createElement("a",{className:"navbar-brand mr-1",href:"index.html"},"Start Bootstrap"),r.a.createElement("button",{className:"btn btn-link btn-sm text-white order-1 order-sm-0",id:"sidebarToggle",href:"#"},r.a.createElement("i",{className:"fas fa-bars"})),r.a.createElement("form",{className:"d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"button"},r.a.createElement("i",{className:"fas fa-search"}))))),r.a.createElement("ul",{className:"navbar-nav ml-auto ml-md-0"},r.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-bell fa-fw"}),r.a.createElement("span",{className:"badge badge-danger"},"9+")),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"alertsDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"))),r.a.createElement("li",{className:"nav-item dropdown no-arrow mx-1"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"messagesDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-envelope fa-fw"}),r.a.createElement("span",{className:"badge badge-danger"},"7")),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"messagesDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Action"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"))),r.a.createElement("li",{className:"nav-item dropdown no-arrow"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-user-circle fa-fw"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"#"},"Settings"),r.a.createElement("a",{className:"dropdown-item",href:"#"},"Activity Log"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement("a",{className:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal"},"Logout")))))}}]),t}(n.Component),Z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"sidebar navbar-nav"},this.props.menu&&this.props.menu.filter(function(e){return!e.hide}).map(function(e){return r.a.createElement("li",{key:e.id,className:"nav-item",activeClassName:"active"},r.a.createElement(C.a,{exact:e.exact,className:"nav-link",to:e.href},r.a.createElement("i",{className:"fas fa-fw fa-tachometer-alt"}),r.a.createElement("span",null,e.label)))}))}}]),t}(n.Component),ee=(n.Component,a(445),function(){return r.a.createElement("ol",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement("a",{href:"#"},"Dashboard")),r.a.createElement("li",{className:"breadcrumb-item active"},"Overview"))}),te=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement("div",{id:"wrapper"},r.a.createElement(Z,{menu:this.props.menu}),r.a.createElement("div",{id:"content-wrapper"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ee,null),this.props.children))))}}]),t}(n.Component),ae=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props&&this.props.allowAnonymous&&r.a.createElement(T.a,this.props),this.props&&!this.props.allowAnonymous&&r.a.createElement(F.SecureRoute,this.props))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).menu=Q,a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(te,{menu:this.menu},this.menu&&this.menu.map(function(e){return r.a.createElement(ae,{allowAnonymous:e.allowAnonymous,exact:e.exact,key:e.id,path:e.href,component:e.component})}))}}]),t}(r.a.Component),re=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.AppContainer,null,r.a.createElement(p.a,{basename:"/"},r.a.createElement(F.Security,{issuer:q.issuer,client_id:q.clientId,redirect_uri:q.redirectUri},r.a.createElement(ne,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(62),le=a(221),ie=a(220),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return Object(ie.a)(e).concat([{id:t.id,text:t.text,completed:!1}]);case"TOGGLE_TODO":return e.map(function(e){return e.id===t.id?Object(le.a)({},e,{completed:!e.completed}):e});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},ue=function(e,t){switch(t.type){case"INCREMENT_COUNT":return{count:e.count+1};case"DECREMENT_COUNT":return{count:e.count-1}}return e||{count:0}},me=Object(ce.b)({todos:oe,visibilityFilter:se,counter:ue}),he=Object(ce.c)(me),pe=(a(447),document.getElementById("root"));l.a.render(r.a.createElement(d.a,{store:he},r.a.createElement(re,null)),pe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[231,2,1]]]);
//# sourceMappingURL=main.515387cc.chunk.js.map